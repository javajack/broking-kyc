---
interface Props {
	src: string;
	label?: string;
}

const { src, label } = Astro.props;
const base = import.meta.env.BASE_URL.replace(/\/$/, '');
const resolvedSrc = src.startsWith('/') ? `${base}${src}` : src;
---

<div class="diagram-container">
	<img src={resolvedSrc} alt={label || 'Diagram'} loading="lazy" />
	{label && <p class="diagram-label">{label}</p>}
</div>
